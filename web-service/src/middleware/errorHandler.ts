import { Request, Response, NextFunction } from 'express';\n\nexport function errorHandler(err: any, req: Request, res: Response, next: NextFunction) {\n  const status = err.status || err.statusCode || 500;\n  const message = err.message || 'Internal Server Error';\n  \n  console.error('Error:', {\n    status,\n    message,\n    path: req.path,\n    method: req.method,\n    stack: err.stack\n  });\n\n  res.status(status).json({\n    error: status >= 500 ? 'internal_error' : 'client_error',\n    message,\n    ...(process.env.NODE_ENV === 'development' && { stack: err.stack })\n  });\n}\n